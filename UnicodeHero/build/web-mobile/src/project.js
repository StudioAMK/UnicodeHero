window.__require=function t(i,e,s){function o(c,r){if(!e[c]){if(!i[c]){var a=c.split("/");if(a=a[a.length-1],!i[a]){var h="function"==typeof __require&&__require;if(!r&&h)return h(a,!0);if(n)return n(a,!0);throw new Error("Cannot find module '"+c+"'")}}var l=e[c]={exports:{}};i[c][0].call(l.exports,function(t){return o(i[c][1][t]||t)},l,l.exports,t,i,e,s)}return e[c].exports}for(var n="function"==typeof __require&&__require,c=0;c<s.length;c++)o(s[c]);return o}({CharacterCtrl:[function(t,i,e){"use strict";cc._RF.push(i,"82e7alevdNCjqq6kljOoUb7","CharacterCtrl"),cc.Class({extends:cc.Component,properties:{profileFace:{default:null,type:cc.Sprite},jumpSpriteFrame:{default:null,type:cc.SpriteFrame},characterSuit:{default:null,type:cc.Node},profileImg:{default:null,type:cc.Node},profileAnim:{default:null,type:cc.Animation}},onLoad:function(){this.init()},init:function(){this.characterSuitAnim=this.characterSuit.getComponent(cc.Animation),this.charaterSuitSprite=this.characterSuit.getComponent(cc.Sprite)},start:function(){},playIdleAnim:function(){this.profileImg.scaleX=-1*this.profileImg.scaleX,this.characterSuitAnim.play("idleAnim"),this.profileAnim.play("profilePicAnim"),this.profileImg.position=cc.v2(0,182)},playJumpAnim:function(){this.characterSuitAnim.stop("idleAnim"),this.profileAnim.stop("profilePicAnim"),this.profileImg.position=cc.v2(-10,220),this.charaterSuitSprite.spriteFrame=this.jumpSpriteFrame,this.scheduleOnce(this.playIdleAnim,.5)}}),cc._RF.pop()},{}],MainCtrl:[function(t,i,e){"use strict";cc._RF.push(i,"c4dbdLqK+1JdLttWPweJ9CO","MainCtrl");var s=t("WordList");cc.Class({extends:cc.Component,properties:{groundPrefab:{default:null,type:cc.Prefab},character:{default:null,type:cc.Node},obstacleLayout:{default:null,type:cc.Node},mainCamera:{default:null,type:cc.Node},scoreLabel:{default:null,type:cc.Label},editBoxNode:{default:null,type:cc.Node},timer:{default:null,type:cc.Label},finishLayout:{default:null,type:cc.Node},finishScoreLabel:{default:null,type:cc.Label},finishTimeLabel:{default:null,type:cc.Label},jumpAudioClip:{default:null,type:cc.AudioClip},startLayout:{default:null,type:cc.Node},touchEventNode:{default:null,type:cc.Node},backgroundNode:{default:null,type:cc.Node},wordCount:18,frameNode:{default:null,type:cc.Node},obstacleMaskNode:{default:null,type:cc.Node},editBoxPrefab:{default:null,type:cc.Prefab}},onLoad:function(){},setEditBoxFocus:function(){this.editBoxAnswer.focus()},onKeyUp:function(){},start:function(){},startGame:function(){this.init()},init:function(){this.answerBox=cc.instantiate(this.editBoxPrefab),this.editBoxAnswer=this.answerBox.getComponent(cc.EditBox),this.touchEventNode.on("mousedown",this.setEditBoxFocus,this),this.answerBox.active=!0,this.backgroundNode.y=-320,this.scoreLabel.string="0",this.timer.string="00 : 00",this.timeCount(),this.finishLayout.active=!1,this.startLayout.active=!1,this.nextGround=0,this.score=0,this.posY=30,this.mainCamera.position=cc.v2(0,0),this.character.position=cc.v2(-200,-280),this.character.scaleX=1,this.obstacleLayout.removeAllChildren(),this.characterCtrl=this.character.getComponent("CharacterCtrl"),this.answerBoxCtrl=this.answerBox.getComponent("WordsChecker"),this.answerBoxCtrl.linkWithMainController(this),this.editBoxAnswer.string="",this.editBoxAnswer.placeholderLabel.string="",this.editBoxNode.addChild(this.answerBox),this.editBoxAnswer.focus(),this.setUpGround(),this.obstacleMaskNode.y=0,this.obstacleLayout.y=0,this.isJump=!1},setUpGround:function(){for(var t=0;t<this.wordCount;t++){var i=s.getRandomWord();void 0==i&&(i=s.getRandomWord());var e=cc.instantiate(this.groundPrefab);this.posX=0,this.isRightOstacle=!0,t%2==0?(this.posX=80,this.isRightOstacle=!0):(this.posX=-80,this.isRightOstacle=!1);var o=cc.v2(this.posX,this.posY);e.getComponent("ObstacleCtrl").setUpGround(i,o,this.isRightOstacle),this.obstacleLayout.addChild(e),this.posY+=250}this.obstacleCtrl=this.obstacleLayout.children[this.nextGround].getComponent("ObstacleCtrl");var n=this.obstacleCtrl.getEditBoxPosition(),c=this.obstacleCtrl.getRichTextWidth();this.answerBox.width=c,this.answerBox.position=n,this.answerBoxCtrl.init(this.obstacleLayout.children,this)},onClickJump:function(t){cc.audioEngine.play(this.jumpAudioClip,!1,1),this.moveBackground(),this.distance=0,this.isJump=!0,this.obstaclePosition=this.obstacleCtrl.getPosition();var i=cc.jumpTo(.5,this.obstaclePosition,200,1),e=cc.moveTo(.5,cc.v2(0,this.mainCamera.y+250)),s=cc.moveTo(.5,cc.v2(0,this.obstacleMaskNode.y+250)),o=cc.moveTo(.5,cc.v2(0,this.obstacleLayout.y-250));if(this.character.runAction(i),this.mainCamera.runAction(e),this.obstacleMaskNode.runAction(s),this.obstacleLayout.runAction(o),this.characterCtrl.playJumpAnim(),this.score+=t,this.scoreLabel.string=this.score,this.scheduleOnce(this.jumpCallBack,.5),this.nextGround<this.wordCount-1){this.nextGround+=1,this.obstacleCtrl=this.obstacleLayout.children[this.nextGround].getComponent("ObstacleCtrl");var n=this.obstacleCtrl.getEditBoxPosition(),c=this.obstacleCtrl.getRichTextWidth();this.answerBox.width=c,this.answerBox.position=n,this.answerBox.y=this.answerBox.y-250}else clearInterval(this.x),this.finishLayout.active=!0,this.editBoxAnswer.string="",this.answerBox.destroy(),this.finishScoreLabel.string="Total Score - "+this.score,this.finishTimeLabel.string="Finish Time - "+this.minutes+" mins : "+this.seconds+" seconds"},timeCount:function(){var t=this;t.seconds=0,t.minutes=0;var i=0;function e(t){var i=t+"";return i.length<2?"0"+i:i}t.x=setInterval(function(){++i,t.seconds=e(i%60),t.minutes=e(parseInt(i/60)),t.timer.string=t.minutes+" : "+t.seconds},1e3)},jumpCallBack:function(){this.character.scaleX=-1*this.character.scaleX},update:function(t){var i=cc.view.getVisibleSize().width;i<900&&(this.frameNode.width=i)},restartGame:function(){this.init()},moveBackground:function(){var t=cc.moveTo(.5,cc.v2(0,this.backgroundNode.y-50));this.backgroundNode.runAction(t)}}),cc._RF.pop()},{WordList:"WordList"}],ObstacleCtrl:[function(t,i,e){"use strict";cc._RF.push(i,"6e517c0MdBJi5MXCtiKX84t","ObstacleCtrl"),cc.Class({extends:cc.Component,properties:{questionRichText:{default:null,type:cc.RichText},answerBoxContainer:{default:null,type:cc.Node},textColor:{type:cc.Color,default:cc.Color.BLACK}},onLoad:function(){},setUpGround:function(t,i,e){this.node.setPosition(i);var s="<color=#000000>"+t+"</color>";this.questionRichText.string=s;var o=this.node.width/4,n=this.answerBoxContainer.y;this.editBoxPosition=cc.v2(i.x,i.y+n),i.y=i.y-30,e?(i.x=i.x+o,this.landedPosition=i):(i.x=i.x-o,this.landedPosition=i)},start:function(){},getPosition:function(){return this.landedPosition},getEditBoxPosition:function(){return this.editBoxPosition},getRichTextWidth:function(){return this.questionRichText.node.width}}),cc._RF.pop()},{}],WordList:[function(t,i,e){"use strict";cc._RF.push(i,"086875xzG5BA7Ikq3hAPAoY","WordList");var s=["apple","car"],o=-1;i.exports=s,i.exports.getRandomWord=function(){for(var t=Math.floor(Math.random()*s.length);t==o;)t=Math.floor(Math.random()*s.length);return o=t,s[t]},cc._RF.pop()},{}],WordsChecker:[function(t,i,e){"use strict";cc._RF.push(i,"2701aEsnAdC6pgpFwj+lgGD","WordsChecker");t("WordList");cc.Class({extends:cc.Component,properties:{question:"123456",answer:"123",questionColor:{type:cc.Color,default:cc.Color.BLACK},correctColor:{type:cc.Color,default:cc.Color.GREEN}},onLoad:function(){},start:function(){},linkWithMainController:function(t){this.mainController=t},init:function(t){this.obstacleLayoutList=t,this.answerTextBox=this.node.getComponent(cc.EditBox),this.nextOstacle=0,this.questionRichText=this.obstacleLayoutList[this.nextOstacle].getChildByName("questionRichText").getComponent(cc.RichText),this.word=this.removeTags(this.questionRichText.string),this.setQuestion(this.word)},setQuestion:function(t){this.question=t,this._updateQuestionUI("",t)},_updateQuestionUI:function(t,i){var e="<color=#"+this.correctColor.toHEX("#rrggbb")+">"+t+"</c><color=#"+this.questionColor.toHEX("#rrggbb")+">"+i+"</color>";this.questionRichText.string=e},onAnswerChanged:function(t,i){this.setAnswer(t),this.answerTextBox.focus()},onEditDidEnd:function(){this.scheduleOnce(this.focusEditBox,.5)},focusEditBox:function(){this.answerTextBox.focus()},setAnswer:function(t){this.answer=t,this.checkAnswer()},checkAnswer:function(){var t=this.subCompare(this.answer,this.question,1);if(0!=t.found){if(0===t.haystackIndex){var i=this.extractStrings(this.question,t.substring);this._updateQuestionUI(i.same,i.diff),""==i.diff&&(this.mainController.onClickJump(this.question.length),this.nextOstacle<this.mainController.wordCount-1&&(this.nextOstacle+=1,this.questionRichText=this.obstacleLayoutList[this.nextOstacle].getChildByName("questionRichText").getComponent(cc.RichText),this.word=this.removeTags(this.questionRichText.string),this.setQuestion(this.word),this.answerTextBox.string="",this.answerTextBox.focus()))}}else this._updateQuestionUI("",this.question)},extractStrings:function(t,i){var e=i,s=t,o=s.indexOf(e),n="",c=t;if(-1===o);else{var r=e.length;0===o?(n=i,c=s.substring(r)):(s.substring(0,o),s.substring(o+r))}return{same:n,diff:c}},subCompare:function(t,i,e){e=e||1;for(var s=t.length;s>=e;s--)for(var o=0;o<=t.length-s;o++){var n=t.substr(o,s),c=i.indexOf(n);if(-1!=c)return{found:1,substring:n,needleIndex:o,haystackIndex:c}}return{found:0}},removeTags:function(t){return null!==t&&""!==t&&(t=t.toString()).replace(/(<([^>]+)>)/gi,"")}}),cc._RF.pop()},{WordList:"WordList"}],"use_v2.1.x_cc.Action":[function(t,i,e){"use strict";cc._RF.push(i,"7ef8ckmIwdAposnnvlBOVwP","use_v2.1.x_cc.Action"),cc.macro.ROTATE_ACTION_CCW=!0,cc._RF.pop()},{}]},{},["CharacterCtrl","MainCtrl","ObstacleCtrl","WordList","WordsChecker","use_v2.1.x_cc.Action"]);